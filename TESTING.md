# æ’ä»¶å±•ç¤ºæµ‹è¯•æŒ‡å—

## æµ‹è¯•è¦ç‚¹

æ ¹æ®åç«¯è¿”å›çš„æ’ä»¶æ•°æ®ç»“æ„ï¼Œå‰ç«¯å·²åšä»¥ä¸‹è°ƒæ•´ï¼š

### 1. æ’ä»¶çŠ¶æ€æ”¯æŒ

åç«¯è¿”å›çš„çŠ¶æ€ä¸º `ENABLED`ï¼Œå‰ç«¯å·²æ”¯æŒï¼š
- `ENABLED` - å·²å¯ç”¨ï¼ˆè¿è¡Œä¸­ï¼‰
- `STARTED` - å·²å¯åŠ¨ï¼ˆè¿è¡Œä¸­ï¼‰
- `DISABLED` - å·²ç¦ç”¨
- `STOPPED` - å·²åœæ­¢
- `FAILED` - å¤±è´¥

### 2. å›¾æ ‡è§£æ

åç«¯è¿”å›çš„å›¾æ ‡æ ¼å¼ç¤ºä¾‹ï¼š
```json
{
  "icon": "fa:fa-solid fa-hand"
}
```

å‰ç«¯æ”¯æŒä»¥ä¸‹å›¾æ ‡ç±»å‹ï¼š
- **Font Awesome**: `fa:fa-solid fa-hand`
- **Material Icons**: `md:home`
- **Emoji**: `ğŸ”§` æˆ–ç›´æ¥å­—ç¬¦
- **SVG**: `svg:<svg>...</svg>` æˆ– `data:image/svg+xml;base64,...`
- **URL**: `http://...` æˆ– `https://...` æˆ– `/path/to/icon.png`

### 3. å‰ç«¯å…¥å£

åç«¯è¿”å›çš„ frontendEntry æ˜¯å®Œæ•´è·¯å¾„ï¼š
```json
{
  "frontendEntry": "/plugins/hello-world/index.html"
}
```

å‰ç«¯ä¼šç›´æ¥ä½¿ç”¨è¿™ä¸ªè·¯å¾„åŠ è½½ iframeã€‚

## æµ‹è¯•æ­¥éª¤

### 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:5173

### 2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°

åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„æ§åˆ¶å°ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ï¼š
- åŠ è½½çš„æ’ä»¶åˆ—è¡¨
- å·²å¯ç”¨çš„æ’ä»¶æ•°é‡
- ä»»ä½•é”™è¯¯ä¿¡æ¯

### 3. éªŒè¯æ’ä»¶å±•ç¤º

**é¦–é¡µ (`/`)**ï¼š
- [ ] æ˜¾ç¤ºæ‰€æœ‰ ENABLED çŠ¶æ€çš„æ’ä»¶
- [ ] æ’ä»¶å¡ç‰‡æ˜¾ç¤ºåç§°ã€æè¿°ã€ç‰ˆæœ¬ã€ä½œè€…
- [ ] å›¾æ ‡æ­£ç¡®æ¸²æŸ“ï¼ˆFont Awesome å›¾æ ‡ï¼‰
- [ ] ç‚¹å‡»æ’ä»¶å¡ç‰‡å¯æ‰“å¼€

**ç®¡ç†åå° (`/admin`)**ï¼š
- [ ] æ˜¾ç¤ºæ‰€æœ‰æ’ä»¶ï¼ˆåŒ…æ‹¬å·²ç¦ç”¨çš„ï¼‰
- [ ] çŠ¶æ€æ˜¾ç¤ºä¸º"è¿è¡Œä¸­"
- [ ] å¯ç”¨/ç¦ç”¨æŒ‰é’®æ ¹æ®çŠ¶æ€æ˜¾ç¤º
- [ ] å¯ä»¥è¿›è¡Œå¯ç”¨ã€ç¦ç”¨ã€å¸è½½ã€é‡è½½æ“ä½œ

### 4. æµ‹è¯•æ’ä»¶æ‰“å¼€

ç‚¹å‡»æ’ä»¶å¡ç‰‡åï¼š
- [ ] å¼¹å‡ºæ¨¡æ€æ¡†
- [ ] iframe åŠ è½½æ’ä»¶é¡µé¢ï¼ˆ`/plugins/hello-world/index.html`ï¼‰
- [ ] å¯ä»¥åœ¨æ–°çª—å£æ‰“å¼€
- [ ] æ¨¡æ€æ¡†å“åº”å¼å¸ƒå±€æ­£å¸¸

## å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1: æ’ä»¶åˆ—è¡¨ä¸ºç©º

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ŒæŸ¥çœ‹ç½‘ç»œè¯·æ±‚
2. ç¡®è®¤ `/api/platform/plugins` è¿”å›æ•°æ®
3. æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—ï¼ŒæŸ¥çœ‹"åŠ è½½çš„æ’ä»¶åˆ—è¡¨"å’Œ"å·²å¯ç”¨çš„æ’ä»¶"

**å¯èƒ½åŸå› **ï¼š
- åç«¯æœªå¯åŠ¨æˆ–æ— æ³•è®¿é—®
- API è¿”å›æ ¼å¼ä¸æ­£ç¡®
- æ’ä»¶çŠ¶æ€ä¸æ˜¯ `ENABLED` æˆ– `STARTED`

### é—®é¢˜ 2: å›¾æ ‡ä¸æ˜¾ç¤º

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰å›¾æ ‡åŠ è½½é”™è¯¯
2. æ£€æŸ¥ç½‘ç»œé¢æ¿ï¼ŒFont Awesome CSS æ˜¯å¦åŠ è½½
3. ç¡®è®¤å›¾æ ‡æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆ`fa:` å‰ç¼€ï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸ï¼ˆéœ€è¦åŠ è½½ Font Awesome CDNï¼‰
- æ£€æŸ¥å›¾æ ‡æ ¼å¼æ˜¯å¦ç¬¦åˆè§„èŒƒ

### é—®é¢˜ 3: æ’ä»¶é¡µé¢æ— æ³•åŠ è½½

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. æŸ¥çœ‹ iframe çš„ src å±æ€§
2. æ£€æŸ¥åç«¯ frontendEntry è·¯å¾„æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤é™æ€èµ„æºè·¯ç”±æ˜¯å¦é…ç½®

**å¯èƒ½åŸå› **ï¼š
- æ’ä»¶æœªæä¾›å‰ç«¯é¡µé¢
- frontendEntry è·¯å¾„é”™è¯¯
- åç«¯é™æ€èµ„æºæ˜ å°„é—®é¢˜

## æ¨¡æ‹Ÿæµ‹è¯•æ•°æ®

å¦‚æœåç«¯æš‚æ—¶æ— æ³•ä½¿ç”¨ï¼Œå¯ä»¥åœ¨å¼€å‘ç¯å¢ƒä¸­æ¨¡æ‹Ÿæ•°æ®ï¼š

ç¼–è¾‘ `src/views/PluginsView.vue`ï¼Œåœ¨ `loadPlugins` å‡½æ•°ä¸­æ·»åŠ ï¼š

```typescript
const loadPlugins = async () => {
  loading.value = true;
  error.value = '';
  
  try {
    // æ¨¡æ‹Ÿæ•°æ®ï¼ˆä»…ç”¨äºæµ‹è¯•ï¼‰
    plugins.value = [
      {
        id: 'hello-world',
        name: 'Hello World',
        version: '1.0.0',
        description: 'ä¸€ä¸ªç®€å•çš„ Hello World æ’ä»¶ç¤ºä¾‹',
        author: 'Your Name',
        icon: 'fa:fa-solid fa-hand',
        status: 'ENABLED',
        loadTime: '2025-12-01T11:10:46.1883141',
        startTime: '2025-12-01T11:10:46.2371192',
        frontendEntry: '/plugins/hello-world/index.html',
        apiPrefix: '/api/hello'
      }
    ];
    
    // æ­£å¼ä»£ç 
    // const response = await getPluginList();
    // plugins.value = response.data.data || [];
    
    console.log('åŠ è½½çš„æ’ä»¶åˆ—è¡¨:', plugins.value);
    console.log('å·²å¯ç”¨çš„æ’ä»¶:', activePlugins.value);
  } catch (err: any) {
    error.value = err.message || 'åŠ è½½æ’ä»¶åˆ—è¡¨å¤±è´¥';
    console.error('åŠ è½½æ’ä»¶å¤±è´¥:', err);
  } finally {
    loading.value = false;
  }
};
```

## æˆåŠŸæ ‡å‡†

- âœ… é¦–é¡µæ˜¾ç¤ºæ’ä»¶å¡ç‰‡
- âœ… å›¾æ ‡æ­£ç¡®æ¸²æŸ“
- âœ… ç‚¹å‡»å¡ç‰‡æ‰“å¼€æ¨¡æ€æ¡†
- âœ… iframe åŠ è½½æ’ä»¶é¡µé¢
- âœ… ç®¡ç†åå°æ˜¾ç¤ºæ’ä»¶åˆ—è¡¨
- âœ… æ‰€æœ‰æ“ä½œæŒ‰é’®æ­£å¸¸å·¥ä½œ
- âœ… å“åº”å¼å¸ƒå±€åœ¨ç§»åŠ¨ç«¯æ­£å¸¸

## ä¸‹ä¸€æ­¥

æµ‹è¯•é€šè¿‡åï¼Œå¯ä»¥ï¼š
1. å¼€å‘æ›´å¤šæ’ä»¶
2. ä¼˜åŒ–æ’ä»¶åŠ è½½æ€§èƒ½
3. æ·»åŠ æ’ä»¶æœç´¢å’Œè¿‡æ»¤åŠŸèƒ½
4. å®ç°æ’ä»¶æ›´æ–°æ£€æŸ¥
